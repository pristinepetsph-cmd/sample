<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Booster Pack Unboxing</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #111;
      color: white;
      font-family: Arial, sans-serif;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    .scene {
      position: relative;
      width: 600px;
      height: 400px;
      perspective: 1000px;
    }

    .pack {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 150px;
      height: 200px;
      transform: translate(-50%, -50%) scale(1);
      background: linear-gradient(180deg, #333, #222);
      border-radius: 16px;
      cursor: pointer;
      display: flex;
      justify-content: center;
      align-items: center;
      backface-visibility: hidden;
      transition: transform 0.5s;
    }
    .pack.opening {
      transform: translate(-50%, -50%) scale(1.2) rotateX(-75deg);
    }

    .cards-container {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 100%;
      transform: translate(-50%, -50%);
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      pointer-events: none;
    }

    .card {
      width: 100px;
      height: 140px;
      margin: 8px;
      perspective: 800px;
      opacity: 0;
    }

    .card-inner {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 0.6s;
      cursor: pointer;
    }

    .card.flipped .card-inner {
      transform: rotateY(180deg);
    }

    .card-front, .card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 10px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 14px;
      text-align: center;
    }

    .card-back {
      background: #444;
      color: white;
    }

    .card-front {
      transform: rotateY(180deg);
      background: white;
      color: black;
      position: relative;
    }

    .holo::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(120deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.3) 30%, rgba(255,255,255,0.05) 60%);
      mix-blend-mode: screen;
      transform: translateX(-150%);
      animation: holoMove 3s linear infinite;
      border-radius: 10px;
    }
    @keyframes holoMove {
      from { transform: translateX(-150%) skewX(-10deg); }
      to { transform: translateX(150%) skewX(-10deg); }
    }

    .rare::after {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: 10px;
      box-shadow: 0 0 25px 6px rgba(255,215,80,0.4) inset;
    }
  </style>
</head>
<body>
  <div class="scene">
    <div class="pack" id="pack">Click to open</div>
    <div class="cards-container" id="cardsContainer"></div>
  </div>

  <script>
    const packEl = document.getElementById("pack");
    const cardsContainer = document.getElementById("cardsContainer");

    const rarities = [
      { key: "Common", chance: 0.7 },
      { key: "Uncommon", chance: 0.2 },
      { key: "Rare", chance: 0.085 },
      { key: "Holo", chance: 0.015 },
    ];

    function pickRarity() {
      const r = Math.random();
      let sum = 0;
      for (const rr of rarities) {
        sum += rr.chance;
        if (r <= sum) return rr.key;
      }
      return "Common";
    }

    function makeCards(count = 10) {
      return Array.from({ length: count }, (_, i) => {
        return {
          id: i + 1,
          rarity: pickRarity(),
        };
      });
    }

    function showCards(cards) {
      cardsContainer.innerHTML = "";
      cards.forEach((card, i) => {
        const cardDiv = document.createElement("div");
        cardDiv.className = "card";
        cardDiv.style.transition = `opacity 0.5s ${0.3 + i * 0.1}s, transform 0.5s ${0.3 + i * 0.1}s`;
        cardDiv.innerHTML = `
          <div class="card-inner">
            <div class="card-back">?</div>
            <div class="card-front ${card.rarity === "Holo" ? "holo" : ""} ${card.rarity === "Rare" ? "rare" : ""}">
              <div>Card ${card.id}</div>
              <div>${card.rarity}</div>
            </div>
          </div>
        `;
        cardDiv.addEventListener("click", () => {
          cardDiv.classList.toggle("flipped");
        });
        cardsContainer.appendChild(cardDiv);
        requestAnimationFrame(() => {
          cardDiv.style.opacity = 1;
          cardDiv.style.transform = "translateY(-20px)";
        });
      });
    }

    packEl.addEventListener("click", () => {
      // animate opening
      packEl.classList.add("opening");
      setTimeout(() => {
        // after pack opens, show cards
        const cards = makeCards(10);
        showCards(cards);
        // hide the pack (or remove)
        packEl.style.visibility = "hidden";
      }, 800);
    });
  </script>
</body>
</html>

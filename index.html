<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Interactive Booster Pack</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #111827, #1f2937);
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    .container {
      max-width: 900px;
      width: 100%;
      background: rgba(255,255,255,0.05);
      padding: 20px;
      border-radius: 16px;
      box-shadow: 0 0 30px rgba(0,0,0,0.5);
    }
    button {
      padding: 8px 16px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
    }
    .buy-btn {
      background: #10b981;
      color: white;
    }
    .buy-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .pack {
      width: 120px;
      height: 180px;
      border-radius: 12px;
      background: linear-gradient(180deg, #0f172a, #1e293b);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 20px 0;
      cursor: pointer;
      transition: transform 0.3s;
    }
    .pack:hover {
      transform: translateY(-5px) scale(1.05);
    }
    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 12px;
    }
    .card {
      position: relative;
      width: 100%;
      height: 200px;
      perspective: 1000px;
    }
    .card-inner {
      position: absolute;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform 0.6s;
    }
    .card.revealed .card-inner {
      transform: rotateY(180deg);
    }
    .card-front, .card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      text-align: center;
    }
    .card-back {
      background: linear-gradient(135deg, #3b82f6, #9333ea);
      color: white;
    }
    .card-front {
      transform: rotateY(180deg);
      background: white;
      color: black;
      flex-direction: column;
    }
    .holo::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(120deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.3) 30%, rgba(255,255,255,0.05) 60%);
      mix-blend-mode: screen;
      transform: translateX(-150%);
      animation: holoMove 3s linear infinite;
      border-radius: 10px;
    }
    @keyframes holoMove {
      from { transform: translateX(-150%) skewX(-10deg); }
      to { transform: translateX(150%) skewX(-10deg); }
    }
    .rare::after {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: 10px;
      box-shadow: 0 0 20px 5px rgba(255,215,80,0.3) inset;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Interactive Booster Pack</h1>
    <p>Credits: <span id="credits">100</span></p>
    <button class="buy-btn" onclick="buyPack()">Buy Pack (10 credits)</button>

    <div class="pack" onclick="openPack()">
      <div>Click to open pack</div>
    </div>

    <div class="cards" id="cards"></div>
  </div>

  <script>
    let credits = 100;
    const packCost = 10;
    let cards = [];
    let revealedCount = 0;

    const rarities = [
      { key: "Common", chance: 0.7 },
      { key: "Uncommon", chance: 0.2 },
      { key: "Rare", chance: 0.085 },
      { key: "Holo", chance: 0.015 }
    ];

    function updateCredits() {
      document.getElementById("credits").textContent = credits;
    }

    function pickRarity() {
      const r = Math.random();
      let sum = 0;
      for (const rar of rarities) {
        sum += rar.chance;
        if (r <= sum) return rar.key;
      }
      return "Common";
    }

    function makeCard(id) {
      const rarity = pickRarity();
      return { id, rarity, revealed: false };
    }

    function buyPack() {
      if (credits < packCost) {
        alert("Not enough credits!");
        return;
      }
      credits -= packCost;
      updateCredits();
      cards = Array.from({ length: 5 }).map((_, i) => makeCard(i + 1));
      revealedCount = 0;
      renderCards();
    }

    function openPack() {
      if (!cards.length) return alert("Buy a pack first!");
      cards.forEach((card, idx) => {
        setTimeout(() => {
          card.revealed = true;
          revealedCount++;
          renderCards();
        }, idx * 800);
      });
    }

    function renderCards() {
      const container = document.getElementById("cards");
      container.innerHTML = "";
      cards.forEach((card) => {
        const div = document.createElement("div");
        div.className = "card" + (card.revealed ? " revealed" : "");
        div.innerHTML = `
          <div class="card-inner">
            <div class="card-back">Mystery Card</div>
            <div class="card-front ${card.rarity === "Holo" ? "holo" : ""} ${card.rarity === "Rare" ? "rare" : ""}">
              <div><strong>Card ${card.id}</strong></div>
              <div>${card.rarity}</div>
            </div>
          </div>
        `;
        container.appendChild(div);
      });
    }

    updateCredits();
  </script>
</body>
</html>
